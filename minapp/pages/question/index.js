(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/question/index"],{"47ed":function(e,t,n){},5755:function(e,t,n){"use strict";(function(e){n("994a"),n("921b");s(n("66fd"));var t=s(n("8853"));function s(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("543d")["createPage"])},"5e7c":function(e,t,n){"use strict";n.r(t);var s=n("acc6"),i=n.n(s);for(var r in s)"default"!==r&&function(e){n.d(t,e,function(){return s[e]})}(r);t["default"]=i.a},8853:function(e,t,n){"use strict";n.r(t);var s=n("e1ea"),i=n("5e7c");for(var r in i)"default"!==r&&function(e){n.d(t,e,function(){return i[e]})}(r);n("a236");var a=n("2877"),o=Object(a["a"])(i["default"],s["a"],s["b"],!1,null,null,null);t["default"]=o.exports},a236:function(e,t,n){"use strict";var s=n("47ed"),i=n.n(s);i.a},acc6:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=r(n("a34a")),i=(r(n("66fd")),r(n("6979")));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,s,i,r,a){try{var o=e[r](a),u=o.value}catch(c){return void n(c)}o.done?t(u):Promise.resolve(u).then(s,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(s,i){var r=e.apply(t,n);function o(e){a(r,s,i,o,u,"next",e)}function u(e){a(r,s,i,o,u,"throw",e)}o(void 0)})}}var u={data:function(){return{loading:!0,id:0,total:120,shared:10,score:0,index:0,progress:0,show:!0,answer_id:0,eject_poster:0,poster:"",locking:!1,qyestion_title:"题目标题",answers:[],questions:[],answer_ids:[],title:this.title,subject:this.subject,qualified:this.qualified,remarks:this.remarks,rules:this.rules,recommends:this.recommends,count:0,maxtime:this.maxtime,time:null,start_answer:!1,user_leaved:!1}},mounted:function(){this.loading=!1},onShow:function(){var t=this;t.user_leaved&&e.showModal({title:"作答结束",content:"您在挑战时切换窗口，已视为放弃作答！",showCancel:!0,success:function(){t.end()}})},onLoad:function(){var e=o(s.default.mark(function e(t){var n,r;return s.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.id,this.id=parseInt(n),e.next=4,i.default.GetQuestion(this.id);case 4:this.questions=e.sent,this.start_answer=!0,this.showQuestion(0),r=this,r.time=setInterval(function(){r.count++,r.start_answer||clearInterval(r.time),r.start_answer&&r.count>r.maxtime&&(r.start_answer=!1,r.locking=!0,setTimeout(function(){r.end()},1e3)),console.log(r.count)},1e3);case 9:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),onHide:function(){var e=this;e.start_answer=!1,e.user_leaved=!0,e.locking=!0,clearInterval(e.time)},methods:{gohome:function(){e.navigateTo({url:"/pages/index/index"})},selected:function(e){var t=this;t.locking||(t.locking=!0,t.checkAnswer(e.aid)?(e.selected_success=!0,this.score+=this.unitscore):(e.selected_error=!0,t.showAnswer()),t.answer_ids.push(e.aid),setTimeout(function(){t.nextQuestion()},2e3))},nextQuestion:function(){this.index<this.questions.length-1?(this.index++,this.locking=!1,this.showQuestion(this.index)):(console.log("end"),this.end())},end:function(){var t=o(s.default.mark(function t(){var n,r;return s.default.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return n=this,e.showLoading({title:"上传成绩",mask:!0}),t.next=4,i.default.PostData({id:n.id,score:n.score,use_time:n.count,answer:n.answer_ids.join(",")});case 4:r=t.sent,setTimeout(function(){e.hideLoading(),r.score>=n.qualified?e.navigateTo({url:"/pages/pass/index?id="+n.id}):e.navigateTo({url:"/pages/lose/index"})},1e3);case 6:case"end":return t.stop()}},t,this)}));function n(){return t.apply(this,arguments)}return n}(),showQuestion:function(e){if(this.progress=e,this.questions[e]){var t=this.questions[e];this.qyestion_title=t.title,this.answers=[],this.answer_id=t.answer_id;for(var n=0;n<t.answers.length;n++)this.answers.push({aid:t.answers[n].aid,name:t.answers[n].name,selected_success:!1,selected_error:!1})}},checkAnswer:function(e){return e==this.answer_id},showAnswer:function(){var e=this;setTimeout(function(){for(var t=0;t<e.answers.length;t++)e.answers[t].aid==e.answer_id&&(e.answers[t].selected_success=!0)},500)}},computed:{unitscore:function(){return 100/this.subject},timestyle:function(){return this.count>=this.maxtime?"text-red":this.count<this.maxtime/2?"text-green":this.count>=this.maxtime/2&&this.count<this.maxtime/4*3?"text-orange":this.count>=this.maxtime/4*3?"text-red":"text-green"}}};t.default=u}).call(this,n("543d")["default"])},e1ea:function(e,t,n){"use strict";var s=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"a",function(){return s}),n.d(t,"b",function(){return i})}},[["5755","common/runtime","common/vendor"]]]);